{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arbre\\\\OneDrive\\\\Desktop\\\\inspire11mk-internship-arbresha-ajrulla\\\\finalreact2\\\\src\\\\components\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport BookCard from \"./BookCard\";\nimport axios from \"axios\";\nimport SortBookCards from \"./SortBookCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [sortbutton, setSortButton] = useState(false);\n  const [showSortComponent, setShowSortComponent] = useState(false);\n  const [favorites, setFavorites] = useState([]);\n  const [showFavorites, setShowFavorites] = useState(false);\n  const fetchBooks = async () => {\n    try {\n      setLoading(true);\n      setProgress(0);\n\n      // Simulate a 3-second delay\n      const duration = 3000;\n      const startTime = Date.now();\n\n      // Function to update progress\n      const updateProgress = () => {\n        const currentTime = Date.now();\n        const elapsedTime = currentTime - startTime;\n        const percentage = Math.min(elapsedTime / duration * 100, 100);\n        setProgress(percentage);\n      };\n\n      // Start updating progress every 100 milliseconds\n      const progressInterval = setInterval(updateProgress, 100);\n      const response = await axios.get(\"https://www.anapioficeandfire.com/api/books?pageSize=30\");\n\n      // Clear the progress update interval when the request is complete\n      clearInterval(progressInterval);\n      console.log(response.data);\n      setBooks(response.data);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    } finally {\n      setLoading(false);\n      // Set progress to 100% when data fetching is complete\n      setProgress(100);\n      setShowSortComponent(true);\n      setSortButton(false); // Reset sortbutton to false when fetching new data\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Game of Thrones Books\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Fetch a list from an API and display it\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"fetch-button\",\n        onClick: fetchBooks,\n        disabled: loading,\n        children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this) : progress === 100 ? \"Books\" : \"Fetch Data\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"percentage\",\n          children: [progress.toFixed(0), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buttons\",\n          onClick: () => setShowFavorites(!showFavorites),\n          children: \"Favorites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), showSortComponent && !sortbutton && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buttons\",\n          onClick: () => setSortButton(true),\n          children: \"Sort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: showFavorites && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"The List of Your Favorites Books\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"books\",\n            children: favorites.map((favoriteBook, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(BookCard, {\n                  book: favoriteBook,\n                  nr: index + 1,\n                  favorites: favorites,\n                  setFavorites: setFavorites\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this)\n            }, favoriteBook.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), showSortComponent && !showFavorites && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-container\",\n      children: [\" \", sortbutton ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"books\",\n        children: /*#__PURE__*/_jsxDEV(SortBookCards, {\n          books: books\n        }, books.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"books\",\n        children: books.map((book, index) => /*#__PURE__*/_jsxDEV(BookCard, {\n          book: book,\n          nr: index + 1,\n          favorites: favorites,\n          setFavorites: setFavorites\n        }, book.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"OjkxGiPqrUj+Y/AaJ2kktEFUtMs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","BookCard","axios","SortBookCards","jsxDEV","_jsxDEV","App","_s","books","setBooks","loading","setLoading","progress","setProgress","sortbutton","setSortButton","showSortComponent","setShowSortComponent","favorites","setFavorites","showFavorites","setShowFavorites","fetchBooks","duration","startTime","Date","now","updateProgress","currentTime","elapsedTime","percentage","Math","min","progressInterval","setInterval","response","get","clearInterval","console","log","data","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","toFixed","map","favoriteBook","index","book","nr","id","_c","$RefreshReg$"],"sources":["C:/Users/arbre/OneDrive/Desktop/inspire11mk-internship-arbresha-ajrulla/finalreact2/src/components/App.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport BookCard from \"./BookCard\";\r\nimport axios from \"axios\";\r\nimport SortBookCards from \"./SortBookCard\";\r\n\r\nfunction App() {\r\n  const [books, setBooks] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [sortbutton, setSortButton] = useState(false);\r\n  const [showSortComponent, setShowSortComponent] = useState(false);\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [showFavorites, setShowFavorites] = useState(false);\r\n\r\n  const fetchBooks = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setProgress(0);\r\n\r\n      // Simulate a 3-second delay\r\n      const duration = 3000;\r\n      const startTime = Date.now();\r\n\r\n      // Function to update progress\r\n      const updateProgress = () => {\r\n        const currentTime = Date.now();\r\n        const elapsedTime = currentTime - startTime;\r\n        const percentage = Math.min((elapsedTime / duration) * 100, 100);\r\n        setProgress(percentage);\r\n      };\r\n\r\n      // Start updating progress every 100 milliseconds\r\n      const progressInterval = setInterval(updateProgress, 100);\r\n\r\n      const response = await axios.get(\r\n        \"https://www.anapioficeandfire.com/api/books?pageSize=30\"\r\n      );\r\n\r\n      // Clear the progress update interval when the request is complete\r\n      clearInterval(progressInterval);\r\n\r\n      console.log(response.data);\r\n      setBooks(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n      // Set progress to 100% when data fetching is complete\r\n      setProgress(100);\r\n      setShowSortComponent(true);\r\n      setSortButton(false); // Reset sortbutton to false when fetching new data\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Game of Thrones Books</h1>\r\n      <h2>Fetch a list from an API and display it</h2>\r\n      <div>\r\n        <button\r\n          className=\"fetch-button\"\r\n          onClick={fetchBooks}\r\n          disabled={loading}\r\n        >\r\n          {loading ? (\r\n            <div className=\"spinner\"></div>\r\n          ) : progress === 100 ? (\r\n            \"Books\"\r\n          ) : (\r\n            \"Fetch Data\"\r\n          )}\r\n          <div className=\"percentage\">{progress.toFixed(0)}%</div>\r\n        </button>\r\n        <br />\r\n\r\n        <div className=\"button-container\">\r\n          {\" \"}\r\n          <button\r\n            className=\"buttons\"\r\n            onClick={() => setShowFavorites(!showFavorites)}\r\n          >\r\n            Favorites\r\n          </button>\r\n          {showSortComponent && !sortbutton && (\r\n            <button className=\"buttons\" onClick={() => setSortButton(true)}>\r\n              Sort\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div>\r\n          {showFavorites && (\r\n            <div>\r\n              <h2>The List of Your Favorites Books</h2>\r\n              <div className=\"books\">\r\n                {favorites.map((favoriteBook, index) => (\r\n                  <div key={favoriteBook.id}>\r\n                    <div>\r\n                      <BookCard\r\n                        book={favoriteBook}\r\n                        nr={index + 1}\r\n                        favorites={favorites}\r\n                        setFavorites={setFavorites}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showSortComponent && !showFavorites && (\r\n        <div className=\"button-container\">\r\n          {\" \"}\r\n          {sortbutton ? (\r\n            <div className=\"books\">\r\n              <SortBookCards books={books} key={books.id} />\r\n            </div>\r\n          ) : (\r\n            <div className=\"books\">\r\n              {books.map((book, index) => (\r\n                <BookCard\r\n                  book={book}\r\n                  key={book.id}\r\n                  nr={index + 1}\r\n                  favorites={favorites}\r\n                  setFavorites={setFavorites}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}